import { Tooltip } from '../../components/mdx'

export const metadata = {
  pinned: false,
  title: 'CORS에 대처하는 방법',
  description: 'CORS(Cross-Origin Resource Sharing)는 보안 정책 때문에 발생하는 제약이에요.',
  publishDate: "2025-09-05T17:40:05Z",
  image: '',
  tags: [
    'Frontend', 'CORS', 'Proxy', 'API'
  ],
};

# CORS란?
- **Cross-Origin Resource Sharing(교차 출처 리소스 공유)**
- 브라우저는 보안 때문에, 기본적으로 **같은 출처(Same-Origin)** 에서만 요청을 허용해요.
  - 출처는 프로토콜 + 도메인 + 포트 조합으로 결정돼요.
  - 예: `https://example.com:443`
- 다른 출처로 요청하려고 하면 CORS 정책이 적용돼요.
- 서버가 응답 헤더에 허용 규칙(`Access-Control-Allow-Origin`)을 내려 줘야만 브라우저가 응답을 열어 줘요.
- 악의적인 사이트가 사용자의 브라우저를 이용해 다른 서비스에 몰래 요청하는 걸 막기 위함이에요.
- **브라우저 보안 정책(Same-Origin Policy)** 을 보완하는 메커니즘이에요.

# CORS 대처 방법
## 서버에서 CORS 허용
- 가장 정석적인 방법이에요.
- 서버 응답 헤더에 `Access-Control-Allow-Origin`을 설정해야 해요.
- 모든 출처 허용은 보안상 위험해서, `*`보다는 필요한 도메인만 지정하는 게 좋아요.

```http
Access-Control-Allow-Origin: https://example.com
Access-Control-Allow-Methods: GET, POST, PUT, DELETE
Access-Control-Allow-Headers: Content-Type, Authorization
```

## 프록시 서버 사용 (백엔드 설정)
- 클라이언트 → 같은 도메인의 프록시 서버 → 외부 API 로 요청을 중계하는 방식이에요.
- 서버끼리 통신은 CORS 제약이 없기 때문에 안전하게 해결할 수 있어요.

## API 제공자가 CORS 허용
- 외부 API를 쓰는 경우, 제공자 측에서 CORS 설정을 지원해야 해요.
- 예: GitHub API는 이미 `Access-Control-Allow-Origin: *`로 설정돼 있어 바로 사용 가능해요.

# CORS 우회 방법 (개발 환경에서 임시 해결책)
## 프론트엔드 개발 서버에서 프록시 설정
- React(create-react-app), Vue, Vite 등은 proxy 옵션을 제공해요.
- 예: `localhost:3000/api` → `https://external-api.com`으로 자동 전달

## 브라우저 플러그인 사용
- 크롬 확장 프로그램(예: *Allow CORS*)으로 강제로 CORS를 무시할 수 있어요.
- ⚠️ 보안상 매우 위험하므로 개발 환경에서만 사용해야 해요.

## 브라우저 보안 설정 해제
- `--disable-web-security` 옵션으로 크롬 실행 시 보안 정책을 꺼버릴 수 있어요.
- ⚠️ 보안상 매우 위험하므로 개발 환경에서만 사용해야 해요.